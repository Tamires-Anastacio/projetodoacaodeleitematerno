CREATE TABLE usuario (
id_usuario int  PRIMARY KEY AUTO_INCREMENT,
cidade varchar(100) not null,
nome_completo varchar(255) not null,
datanascimento date not null,
email varchar(100) UNIQUE not null,
cpf varchar(8)UNIQUE not null,
uf char(2)not null,
data_cadastro date not null,
senha varchar(255)not null,
telefone varchar(15)not null
);

CREATE TABLE instituicao (
id_instituicao int PRIMARY KEY AUTO_INCREMENT ,
nome varchar(255) not null,
telefone varchar(15) not null,
cidade varchar(100) not null,
uf char(2)not null,
endereco varchar(100) not null,
estoque decimal(10,2)not null,
email varchar(100) not null,
status enum('ativo','inativo')not null,
certificacao_credenciamento text not null
);

CREATE TABLE doacao (
id_doacao int PRIMARY KEY AUTO_INCREMENT ,
quantidade decimal(10,2) not null,
data_doacao date not null,
id_instituicao int not null ,
id_doadora int not null,
observacao Text,
status enum('Pendente','Confirmada','Cancelada')not null
);

CREATE TABLE mensagem (
id_mensagem int  PRIMARY KEY AUTO_INCREMENT,
data_envio datetime not null,
id_rementente int not null,
conteudo Text not null,
id_destinatario int not null ,
lida boolean not null
);

CREATE TABLE tipo_leite (
id_tipo int PRIMARY KEY,
descricao text not null,
nome varchar(50) not null
);

CREATE TABLE doar (
id_doacao int ,
id_usuario int ,
FOREIGN KEY(id_doacao) REFERENCES doacao (id_doacao),
FOREIGN KEY(id_usuario) REFERENCES usuario (id_usuario)
)
;
CREATE TABLE solicitacao (
id_doacao int,
id_usuario int ,
FOREIGN KEY(id_doacao) REFERENCES doacao (id_doacao),
FOREIGN KEY(id_usuario) REFERENCES usuario (id_usuario)
);

CREATE TABLE recebe (
id_instituicao int,
id_doacao int,
FOREIGN KEY(id_instituicao) REFERENCES instituicao (id_instituicao),
FOREIGN KEY(id_doacao) REFERENCES doacao (id_doacao)
);

CREATE TABLE classifica (
id_tipo int,
id_instituicao int,
FOREIGN KEY(id_tipo) REFERENCES tipo_leite (id_tipo),
FOREIGN KEY(id_instituicao) REFERENCES instituicao (id_instituicao)
);

CREATE TABLE fornece (
id_usuario int ,
id_instituicao int,
FOREIGN KEY(id_usuario) REFERENCES usuario (id_usuario),
FOREIGN KEY(id_instituicao) REFERENCES instituicao (id_instituicao)
);

CREATE TABLE enviar_receber (
id_usuario int ,
id_mensagem int ,
FOREIGN KEY(id_usuario) REFERENCES usuario (id_usuario)/*falha: chave estrangeira*/
)